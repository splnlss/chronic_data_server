(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{132:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=132},186:function(e,t,n){},232:function(e,t,n){},243:function(e,t,n){e.exports=n.p+"static/media/logo.d50f1fad.svg"},299:function(e,t,n){e.exports=n(480)},304:function(e,t,n){},309:function(e,t,n){},445:function(e,t,n){},449:function(e,t){},451:function(e,t){},452:function(e,t){},453:function(e,t){},454:function(e,t){},480:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(75),c=n.n(o),i=(n(304),n(494)),l=n(23),u=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_BASE_URL||"http://localhost:8080/api",s="https://chronicdata-records.s3.us-east-2.amazonaws.com/",m=n(18),p=n(19),d=n(21),h=n(20),f=n(22),b=n(497),E=n(490),v=n(496),g=n(489),O=n(264),j=n(493),y=function(e){return e.ok?e:e.headers.has("content-type")&&e.headers.get("content-type").startsWith("application/json")?e.json().then(function(e){return Promise.reject(e)}):Promise.reject({code:e.status,message:e.statusText})},N="FETCH_PROTECTED_DATA_SUCCESS",k="FETCH_PROTECTED_DATA_ERROR",w=function(){return function(e,t){var n=t().auth.authToken;return fetch("".concat(u,"/protected"),{method:"GET",headers:{Authorization:"Bearer ".concat(n)}}).then(function(e){return y(e)}).then(function(e){return e.json()}).then(function(t){var n=t.data;return e(function(e){return{type:N,data:e}}(n))}).catch(function(t){e({type:k,error:t})})}},D=(n(186),function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(w())}},{key:"render",value:function(){var e=this.props.username.toUpperCase();return r.a.createElement(i.a,null,r.a.createElement("div",{className:"dashboard"},r.a.createElement("main",null,r.a.createElement("div",null,r.a.createElement("h2",null,"WELCOME ",e,"!"),r.a.createElement("p",null,"To add documents select documents button from toolbar above.")))))}}]),t}(r.a.Component)),C=function(e){function t(t){var n=t.authenticating,a=t.loggedIn,o=t.error,c=Object(O.a)(t,["authenticating","loggedIn","error"]);return n?r.a.createElement("div",null,"Logging in..."):!a||o?r.a.createElement(j.a,{to:"/"}):r.a.createElement(e,c)}var n=e.displayName||e.name||"Component";return t.displayName="RequiresLogin(".concat(n,")"),Object(l.b)(function(e,t){return{authenticating:e.auth.loading,loggedIn:null!==e.auth.currentUser,error:e.auth.error}})(t)}(Object(l.b)(function(e){var t=e.auth.currentUser;return{username:e.auth.currentUser.username,name:"".concat(t.firstName," ").concat(t.lastName),protectedData:e.protectedData.data}})(D)),S=(n(309),n(243)),T=n.n(S),U=n(244),P=n.n(U),F=n(111),x=function(){try{localStorage.removeItem("authToken")}catch(e){}},R="SET_AUTH_TOKEN",A=function(e){return{type:R,authToken:e}},_="CLEAR_AUTH",I=function(){return{type:_}},L="AUTH_REQUEST",B=function(){return{type:L}},H="AUTH_SUCCESS",W="AUTH_ERROR",M=function(e){return{type:W,error:e}},J=function(e,t){var n,a=P()(e);t(A(e)),t((n=a.user,{type:H,currentUser:n})),function(e){try{localStorage.setItem("authToken",e)}catch(t){}}(e)},V=function(e,t){return function(n){return n(B()),fetch("".concat(u,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then(function(e){return y(e)}).then(function(e){return e.json()}).then(function(e){var t=e.authToken;return J(t,n)}).catch(function(e){var t=401===e.code?"Incorrect username or password":"Unable to login, please try again";return n(M(e)),Promise.reject(new F.a({_error:t}))})}},X=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"logOut",value:function(){this.props.dispatch(I()),x()}},{key:"render",value:function(){var e,t=this;return this.props.loggedIn&&(e=r.a.createElement("div",null,r.a.createElement("li",null,r.a.createElement(g.a,{to:"/Dashboard/SubmitDocument"},"+ Add Document")),r.a.createElement("li",null,r.a.createElement(g.a,{to:"/Dashboard/Documents"},"+ Documents")),r.a.createElement("li",null,r.a.createElement(g.a,{to:"/Dashboard/Vitals"},"+ Add Vitals")),r.a.createElement("li",null,r.a.createElement(g.a,{to:"/Dashboard/Contact"},"+ Contact")),r.a.createElement("li",null,r.a.createElement("a",{href:"#",onClick:function(){return t.logOut()}},"+ Log out")))),r.a.createElement("div",null,r.a.createElement("header",{className:"header"},r.a.createElement(g.a,{to:"/"},r.a.createElement("img",{src:T.a,className:"logo",alt:"Chronic Data Logo",height:"120"})),r.a.createElement("div",{className:"title"},r.a.createElement("h1",{className:"header-title"},r.a.createElement(g.a,{to:"/"},"CHRONIC DATA SOCIETY")),r.a.createElement("p",{className:"header-intro"}," your data. your control. ")),r.a.createElement("nav",null,r.a.createElement("ul",{className:"header-links"},e))))}}]),t}(r.a.Component),G=Object(l.b)(function(e){return{loggedIn:null!==e.auth.currentUser}})(X),q=n(239),z=n(238),Q=n(38),K=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e){!e.meta.active&&this.props.meta.active&&this.input.focus()}},{key:"render",value:function(){var e,t,n=this;return this.props.meta.touched&&this.props.meta.error&&(e=r.a.createElement("div",{className:"form-error"},this.props.meta.error)),this.props.meta.touched&&this.props.meta.warning&&(t=r.a.createElement("div",{className:"form-warning"},this.props.meta.warning)),r.a.createElement("div",{className:"form-input"},r.a.createElement("label",{htmlFor:this.props.input.name},this.props.label,e,t),r.a.createElement("input",Object.assign({},this.props.input,{id:this.props.input.name,type:this.props.type,ref:function(e){return n.input=e}})))}}]),t}(r.a.Component),Y=function(e){return e?void 0:"Required"},$=function(e){return""!==e.trim()?void 0:"Cannot be empty"},Z=function(e){return e.trim()===e?void 0:"Cannot start or end with whitespace"},ee=n(491),te=n(492),ne=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"onSubmit",value:function(e){return this.props.dispatch(V(e.username,e.password))}},{key:"render",value:function(){var e,t=this;return this.props.error&&(e=r.a.createElement("div",{className:"form-error","aria-live":"polite"},this.props.error)),r.a.createElement(ee.a,{className:"login-form ui",onSubmit:this.props.handleSubmit(function(e){return t.onSubmit(e)})},e,r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement(q.a,{component:K,type:"text",name:"username",id:"username",placeholder:"Username",validate:[Y,$]}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement(q.a,{component:K,type:"password",name:"password",id:"password",placeholder:"Password",validate:[Y,$]}),r.a.createElement(te.a,{disabled:this.props.pristine||this.props.submitting},"Log in"))}}]),t}(r.a.Component),ae=Object(z.a)({form:"login",onSubmitFail:function(e,t){return t(Object(Q.a)("login","username"))}})(ne);var re=Object(l.b)(function(e){return{loggedIn:null!==e.auth.currentUser}})(function(e){return e.loggedIn?r.a.createElement(j.a,{to:"/dashboard"}):r.a.createElement("main",null,r.a.createElement("div",{className:"home ui message"},r.a.createElement("h2",null,"Welcome to Chronic Data"),r.a.createElement(ae,null),r.a.createElement(g.a,{to:"/register",style:{}},"Register")))}),oe=n(55),ce=function(e){return e.ok?e:e.headers.has("content-type")&&e.headers.get("content-type").startsWith("application/json")?e.json().then(function(e){return Promise.reject(e)}):Promise.reject({code:e.status,message:e.statusText})},ie=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e){!e.meta.active&&this.props.meta.active&&this.input.focus()}},{key:"render",value:function(){var e,t,n=this;return this.props.meta.touched&&this.props.meta.error&&(e=r.a.createElement("div",{className:"form-error"},this.props.meta.error)),this.props.meta.touched&&this.props.meta.warning&&(t=r.a.createElement("div",{className:"form-warning"},this.props.meta.warning)),r.a.createElement("div",{className:"form-input"},r.a.createElement("label",{htmlFor:this.props.input.name},this.props.label,e,t),r.a.createElement("input",Object.assign({},this.props.input,{id:this.props.input.name,type:this.props.type,ref:function(e){return n.input=e}})))}}]),t}(r.a.Component),le=n(95),ue=n.n(le),se=(n(232),function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).goBack=function(){return n.props.history.goBack()},n.fileInputEl=r.a.createRef(),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"onSubmit",value:function(e){var t=this,n=e.documentName,a=e.notes,r=e.healthProviderName,o=(e.documentFile,this.props.auth.currentUser.username),c=new FormData,i=this.fileInputEl.current.files[0];c.append("documentFile",i),c.append("documentName",n),c.append("notes",a),c.append("healthProviderName",r),c.append("username",o),console.log(c),ue.a.post("".concat(u,"/documents"),c,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){console.log("dispatch submitted"),t.props.history.push("/Dashboard/Documents")}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e,t=this;return r.a.createElement("div",{className:"document"},r.a.createElement("div",{onClick:this.goBack,className:"close-button"},"X"),r.a.createElement(ee.a,{className:"document-form",onSubmit:this.props.handleSubmit(function(e){return t.onSubmit(e)})},r.a.createElement("li",null,r.a.createElement("ul",null,r.a.createElement("label",{htmlFor:"documentName"},"Document Name:"),r.a.createElement(q.a,{component:ie,type:"text",name:"documentName",id:"documentName",validate:[Y,$]})),r.a.createElement("ul",null,r.a.createElement("label",{htmlFor:"notes"},"Notes:"),r.a.createElement("br",null),r.a.createElement(q.a,{component:"textarea",type:"text",name:"notes",id:"notes",validate:[]})),r.a.createElement("ul",null,r.a.createElement("label",{htmlFor:"healthProviderName"},"Health Provider:"),r.a.createElement(q.a,{component:ie,type:"text",name:"healthProviderName",id:"healthProviderName",validate:[Y,$]})),r.a.createElement("ul",null,r.a.createElement("label",{htmlFor:"documentFile"},"Document:"),r.a.createElement("input",{ref:this.fileInputEl,id:"documentFile",type:"file",name:"documentFile"}))),r.a.createElement(te.a,{disabled:this.props.pristine||this.props.submitting},"Add"),r.a.createElement(te.a,(e={type:"button"},Object(oe.a)(e,"type","button"),Object(oe.a)(e,"onClick",function(){t.props.history.push("/Dashboard/Documents")}),e),"Cancel")))}}]),t}(r.a.Component)),me=Object(z.a)({form:"documentform",onSubmitFail:function(e,t){return t(Object(Q.a)("documentName","healthProviderName"))}})(Object(l.b)(function(e){return{auth:e.auth}})(se)),pe=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"onSubmit",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this;return r.a.createElement("main",null,r.a.createElement("div",{className:"form"},r.a.createElement("form",{className:"card add-vitals",onSubmit:function(t){return e.onSubmit(t)}},r.a.createElement("li",null,r.a.createElement("ul",null,r.a.createElement("label",null,"Blood Pressure:",r.a.createElement("input",{type:"text",name:"bloodPressure"}))),r.a.createElement("ul",null,r.a.createElement("label",null,"Heart Rate:",r.a.createElement("input",{type:"text",name:"heartRate"}))),r.a.createElement("ul",null,r.a.createElement("label",null,"Weight:",r.a.createElement("input",{type:"text",name:"weight"})))),r.a.createElement("button",null,"Add"),r.a.createElement("button",{type:"button"},"Cancel"))))}}]),t}(r.a.Component),de="SET_DOCUMENTS";var he,fe,be=function(e){return r.a.createElement("div",{key:e.id,style:{backgroundColor:"white",padding:"2px 2px 2px 8px",margin:"4px",borderRadius:"4px"}},r.a.createElement("li",null,r.a.createElement("h3",null,r.a.createElement(g.a,{to:"/documents/".concat(e.id)},e.name.toUpperCase())),e.provider))},Ee=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).goBack=function(){return n.props.history.goBack()},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchDocuments()}},{key:"render",value:function(){var e=this.props.documents;return r.a.createElement("div",{className:"document"},r.a.createElement("div",{onClick:this.goBack,className:"close-button"},"X"),r.a.createElement("h2",null,"Documents"),r.a.createElement("ul",null,e&&e.map(function(e){return r.a.createElement(be,{id:e.id,name:e.documentName,provider:e.healthProviderName})})))}}]),t}(r.a.Component),ve=Object(l.b)(function(e){return{auth:e.auth,documents:e.documents}},function(e){return{fetchDocuments:function(){e(function(e){console.log("START fetch"),fetch("".concat(u,"/documents"),{method:"GET",headers:{"content-type":"application/json"},body:JSON.stringify()}).then(function(e){return e.json()}).then(function(t){console.log("DATA:",t),e({type:de,payload:t})}).catch(function(e){e.reason,e.message,e.location})})}}})(Ee),ge=(n(445),function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={document:null},n.deleteHandler=function(){var e=n.props.match;fetch("".concat(u,"/documents/").concat(e.params.id),{method:"Delete",headers:{"content-type":"application/json"},body:JSON.stringify()}).then(function(e){console.log("delete:"+e)}).then(function(){n.props.history.push("/Dashboard/Documents")})},n.goBack=function(){return n.props.history.goBack()},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.documents,a=t.match;n.find(function(e){return e.id===a.params.id})||fetch("".concat(u,"/documents/").concat(a.params.id),{method:"GET",headers:{"content-type":"application/json"},body:JSON.stringify()}).then(function(e){return e.json()}).then(function(t){e.setState({document:t})}).catch(function(e){e.reason,e.message,e.location})}},{key:"render",value:function(){var e=this,t=this.state.document,n=this.props,a=n.documents,o=n.match;return t||(t=a.find(function(e){return e.id===o.params.id})),r.a.createElement("div",null,r.a.createElement("div",{className:"document"},r.a.createElement("div",{onClick:this.goBack,className:"close-button"},"X"),r.a.createElement("div",{className:"documentInfo"},r.a.createElement("h3",null,t?t.documentName.toUpperCase():""),t?r.a.createElement("div",null,r.a.createElement("p",null,"Health Provider: ",t.healthProviderName),r.a.createElement("p",null,"Notes: ",t.notes),r.a.createElement("p",null,"Document: "),r.a.createElement("br",null),t.documentURL?r.a.createElement(g.a,{to:"/image/".concat(t.documentURL.slice(t.documentURL.lastIndexOf("/")+1))},r.a.createElement("img",{src:t.documentURL,width:"200",height:"auto"})):"",r.a.createElement("br",null),t.documentURL?r.a.createElement("a",{href:t.documentURL},"Download Original File"):"",r.a.createElement("div",{className:"Edit"},r.a.createElement("p",null,r.a.createElement(g.a,{to:"/documents/edit/".concat(t.id),component:"button"},r.a.createElement(te.a,{type:"button"},"Edit")),r.a.createElement(te.a,{onClick:function(){window.confirm("Are you sure you want to delete this document?")&&e.deleteHandler()}},"Delete")))):"")))}}]),t}(r.a.Component)),Oe=Object(v.a)(Object(l.b)(function(e){return{auth:e.auth,documents:e.documents}})(ge)),je=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).goBack=function(){return n.props.history.goBack()},n.fileInputEl=r.a.createRef(),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"onSubmit",value:function(e){var t=this,n=e.documentName,a=e.notes,r=e.healthProviderName,o=this.props.auth.currentUser.username,c=this.props.match.params.id,i={documentName:n,notes:a,healthProviderName:r,username:o},l=new FormData,s=this.fileInputEl.current.files[0];return l.append("documentFile",s),l.append("documentName",n),l.append("notes",a),l.append("healthProviderName",r),l.append("username",o),console.log(l),ue.a.put("".concat(u,"/documents/").concat(c),l,{headers:{"Content-Type":"multipart/form-data"}}),this.props.dispatch(function(e,t){return function(n){return fetch("".concat(u,"/documents/").concat(e),{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return ce(e)}).then(function(e){return e.json()}).catch(function(e){var t=e.reason,n=e.message,a=e.location;if("ValidationError"===t)return Promise.reject(new F.a(Object(oe.a)({},a,n)))})}}(c,i)).then(function(){t.props.history.push("/Dashboard/Documents")})}},{key:"render",value:function(){var e=this,t=this.props,n=t.documents,a=t.document;t.match;return n&&n.length?r.a.createElement("div",{className:"document"},r.a.createElement("div",{onClick:this.goBack,className:"close-button"},"X"),r.a.createElement(ee.a,{className:"document-form",onSubmit:this.props.handleSubmit(function(t){return e.onSubmit(t)})},r.a.createElement("li",null,r.a.createElement("ul",null,r.a.createElement("label",{htmlFor:"documentName"},"Document Name:"),r.a.createElement(q.a,{component:ie,type:"text",name:"documentName",id:"documentName",validate:[Y,$]})),r.a.createElement("ul",null,r.a.createElement("label",{htmlFor:"notes"},"Notes:"),r.a.createElement("br",null),r.a.createElement(q.a,{component:"textarea",type:"text",name:"notes",id:"notes",validate:[]})),r.a.createElement("ul",null,r.a.createElement("label",{htmlFor:"healthProviderName"},"Health Provider:"),r.a.createElement(q.a,{component:ie,type:"text",name:"healthProviderName",id:"healthProviderName",validate:[Y,$]})),r.a.createElement("ul",null,r.a.createElement("label",{htmlFor:"documentFile"},"Document: ",r.a.createElement("a",{href:a.documentURL},a.documentURL)),r.a.createElement("input",{ref:this.fileInputEl,id:"documentFile",type:"file",name:"documentFile"}))),r.a.createElement(te.a,{disabled:this.props.pristine||this.props.submitting},"Add"),r.a.createElement(te.a,{type:"button",onClick:function(){e.props.history.push("/Dashboard/Documents")}},"Cancel"))):r.a.createElement(j.a,{to:"/Dashboard/Documents"})}}]),t}(r.a.Component),ye=Object(l.b)(function(e,t){var n=t.match,a=e.documents;if(!a||!a.length)return{};var r=a.find(function(e){return e.id===n.params.id});return{documents:e.documents,auth:e.auth,initialValues:r,document:r}})(Object(z.a)({form:"documentform",onSubmitFail:function(e,t){return t(Object(Q.a)("documentName","healthProviderName"))}})(je)),Ne=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("main",null,r.a.createElement("div",null,r.a.createElement("h2",null,"CONTACT INFO"),r.a.createElement("p",null,"Please email all questions to our ",r.a.createElement("a",{href:"mailto:support@chronic-data.io"},"support@chronic-data.io"),".")))}}]),t}(a.Component),ke=(he={min:6,max:72},function(e){return he.min&&e.length<he.min?"Must be at least ".concat(he.min," characters long"):he.max&&e.length>he.max?"Must be at most ".concat(he.max," characters long"):void 0}),we=(fe="password",function(e,t){return fe in t&&e.trim()===t[fe].trim()?void 0:"Does not match"}),De=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"onSubmit",value:function(e){var t=this,n=e.username,a=e.password,r=e.firstName,o=e.lastName,c={username:n,password:a,firstName:r,lastName:o};return this.props.dispatch(function(e){return function(t){return fetch("".concat(u,"/users"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return y(e)}).then(function(e){return e.json()}).catch(function(e){var t=e.reason,n=e.message,a=e.location;if("ValidationError"===t)return Promise.reject(new F.a(Object(oe.a)({},a,n)))})}}(c)).then(function(){return t.props.dispatch(V(n,a))})}},{key:"render",value:function(){var e=this;return r.a.createElement(ee.a,{className:"login-form",onSubmit:this.props.handleSubmit(function(t){return e.onSubmit(t)})},r.a.createElement("label",{htmlFor:"firstName"},"First name"),r.a.createElement(q.a,{component:K,type:"text",name:"firstName",placeholder:"First Name"}),r.a.createElement("label",{htmlFor:"lastName"},"Last name"),r.a.createElement(q.a,{component:K,type:"text",name:"lastName"}),r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement(q.a,{component:K,type:"text",name:"username",validate:[Y,$,Z]}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement(q.a,{component:K,type:"password",name:"password",validate:[Y,ke,Z]}),r.a.createElement("label",{htmlFor:"passwordConfirm"},"Confirm password"),r.a.createElement(q.a,{component:K,type:"password",name:"passwordConfirm",validate:[Y,$,we]}),r.a.createElement(te.a,{type:"submit",disabled:this.props.pristine||this.props.submitting},"Register"))}}]),t}(r.a.Component),Ce=Object(z.a)({form:"registration",onSubmitFail:function(e,t){return t(Object(Q.a)("registration",Object.keys(e)[0]))}})(De);var Se=Object(l.b)(function(e){return{loggedIn:null!==e.auth.currentUser}})(function(e){return e.loggedIn?r.a.createElement(j.a,{to:"/dashboard"}):r.a.createElement("div",{className:"home ui message"},r.a.createElement("h2",null,"Register for Account"),r.a.createElement(Ce,null),r.a.createElement(g.a,{to:"/"},"Login"))});var Te=n(114);Te.pdfjs.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(Te.pdfjs.version,"/pdf.worker.js");var Ue=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={numPages:null,pageNumber:1},n.onDocumentLoadSuccess=function(e){var t=e.numPages;n.setState({numPages:t})},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.state,t=e.pageNumber,n=e.numPages,a={url:s+this.props.match.params.id};return console.log(a),r.a.createElement("div",{style:{width:600}},r.a.createElement(Te.Document,{file:a,onLoadSuccess:this.onDocumentLoadSuccess},r.a.createElement(Te.Page,{pageNumber:t,width:600})),r.a.createElement("p",null,"Page ",t," of ",n," "))}}]),t}(a.Component);var Pe=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(G,null),r.a.createElement("main",null,r.a.createElement(b.a,null,r.a.createElement(E.a,{exact:!0,path:"/",component:re}),r.a.createElement(E.a,{exact:!0,path:"/Dashboard",component:C}),r.a.createElement(E.a,{path:"/Dashboard/SubmitDocument",component:me}),r.a.createElement(E.a,{path:"/Dashboard/Vitals",component:pe}),r.a.createElement(E.a,{path:"/Dashboard/Documents",component:ve}),r.a.createElement(E.a,{path:"/Dashboard/Contact",component:Ne}),r.a.createElement(E.a,{path:"/register",component:Se}),r.a.createElement(E.a,{path:"/documents/edit/:id",component:ye}),r.a.createElement(E.a,{path:"/documents/:id",component:Oe}),r.a.createElement(E.a,{path:"/image/:id",component:Ue}),r.a.createElement(E.a,{path:"/pdf/:id",component:Ue}))))}}]),t}(r.a.Component),Fe=Object(v.a)(Object(l.b)(function(e){return{authToken:e.auth.authToken,currentUser:e.auth.currentUser}})(Pe)),xe=n(25),Re=n(240),Ae=n(262),_e={authToken:null,currentUser:null,loading:!1,error:null};var Ie=[];var Le={data:"",error:null};var Be=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||xe.d,He=Object(xe.e)(Object(xe.c)({form:Re.a,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;return t.type===R?Object.assign({},e,{authToken:t.authToken}):t.type===_?Object.assign({},e,{authToken:null,currentUser:null}):t.type===L?Object.assign({},e,{loading:!0,error:null}):t.type===H?Object.assign({},e,{loading:!1,currentUser:t.currentUser}):t.type===W?Object.assign({},e,{loading:!1,error:t.error}):e},documents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;return t.type===de?t.payload:e},protectedData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;return t.type===N?Object.assign({},e,{data:t.data,error:null}):t.type===k?Object.assign({},e,{error:t.error}):e}}),Be(Object(xe.a)(Ae.a))),We=localStorage.getItem("authToken");if(We){var Me=We;He.dispatch(A(Me)),He.dispatch(function(e,t){e(B());var n=t().auth.authToken;return fetch("".concat(u,"/auth/refresh"),{method:"POST",headers:{Authorization:"Bearer ".concat(n)}}).then(function(e){return y(e)}).then(function(e){return e.json()}).then(function(t){var n=t.authToken;return J(n,e)}).catch(function(t){e(M(t)),e(I()),x()})})}var Je=He,Ve=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Xe(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(r.a.createElement(l.a,{store:Je},r.a.createElement(i.a,null,r.a.createElement(Fe,null))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");Ve?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Xe(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Xe(e)})}}()}},[[299,1,2]]]);
//# sourceMappingURL=main.cdfd9da8.chunk.js.map